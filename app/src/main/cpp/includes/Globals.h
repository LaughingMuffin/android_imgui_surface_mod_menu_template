//
// Created by Laughing Muffin on 18.09.2023
//
//======================================================================================================================
#pragma once
//======================================================================================================================
//GENERIC INCLUDES =====================================================================================================
#include <jni.h>
#include <string>
#include <fstream>
//======================================================================================================================
//ANDROID INCLUDES =====================================================================================================
#include <android/log.h>
#include <android/native_window_jni.h>
//======================================================================================================================
//OPENGL INCLUDES ======================================================================================================
#include <EGL/egl.h>
#include <GLES3/gl3.h>
//======================================================================================================================
//MISC INCLUDES ========================================================================================================
#include <Obfuscate.h>
//======================================================================================================================
//IMGUI INCLUDES =======================================================================================================
#include <imgui.h>
#include <imgui_impl_android.h>
#include <imgui_impl_opengl3.h>
//======================================================================================================================
//FONT INCLUDES ========================================================================================================
#include <json.hpp>
//======================================================================================================================
//JSON =================================================================================================================
#include <MyFont.hpp>
//======================================================================================================================
//HOOKERS ==============================================================================================================
#include <xdl.h>
#include <dobby.h>
//======================================================================================================================
//DEFINE SOME USEFUL STUFF =============================================================================================
#define LOG_TAG OBFUSCATE("MUFFIN") //logger tag
#define DEBUG_BUILD //used to toggle logging
//======================================================================================================================
//MORE USEFUL STUFF ====================================================================================================
#ifdef DEBUG_BUILD
#define Debug_Log(...) __android_log_print(ANDROID_LOG_DEBUG, LOG_TAG, __VA_ARGS__);
#define Error_Log(...) __android_log_print(ANDROID_LOG_ERROR, LOG_TAG, __VA_ARGS__);
#define Warning_Log(...) __android_log_print(ANDROID_LOG_WARN, LOG_TAG, __VA_ARGS__);
#define Info_Log(...) __android_log_print(ANDROID_LOG_INFO, LOG_TAG, __VA_ARGS__);
#else
#define Debug_Log(...) //__android_log_print(ANDROID_LOG_DEBUG, LOG_TAG, __VA_ARGS__);
#define Error_Log(...) //__android_log_print(ANDROID_LOG_ERROR, LOG_TAG, __VA_ARGS__);
#define Warning_Log(...) //__android_log_print(ANDROID_LOG_WARN, LOG_TAG, __VA_ARGS__);
#define Info_Log(...) //__android_log_print(ANDROID_LOG_INFO, LOG_TAG, __VA_ARGS__);
#endif
//======================================================================================================================
#define HOOK_DEF(ret, func, ...) \
  ret (*orig_##func)(__VA_ARGS__); \
  ret hook_##func(__VA_ARGS__)
//======================================================================================================================
#define MUFF(target, ptr, orig) DobbyHook((void *)target,(void *)ptr,(void **)&orig)
//======================================================================================================================
ANativeWindow *g_NativeWindow;
bool g_Initialized = false;
int glWidth = 0, glHeight = 0;
JNIEnv *global_env;
//======================================================================================================================